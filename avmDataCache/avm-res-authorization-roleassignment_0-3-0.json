{
  "module": {
    "name": "avm-res-authorization-roleassignment",
    "display_name": "Azure/avm-res-authorization-roleassignment",
    "version": "0.3.0",
    "description": "Terraform Azure Verified Resource Module for Role Assignment",
    "terraform_registry_url": "https://registry.terraform.io/modules/Azure/avm-res-authorization-roleassignment/azurerm",
    "source_code_url": "https://github.com/Azure/terraform-azurerm-avm-res-authorization-roleassignment",
    "requirements": [
      "azuread >= 2.46, < 4.0",
      "azurerm >= 3.71, < 5.0",
      "modtm ~> 0.3",
      "random ~> 3.5"
    ],
    "resources": [
      "random_uuid",
      "modtm_telemetry",
      "azurerm_role_assignment",
      "azuread_directory_role_assignment",
      "azurerm_role_assignment",
      "azuread_directory_role_assignment",
      "azuread_directory_role"
    ],
    "inputs": [
      {
        "name": "role_assignments_for_resources",
        "type": "map(object({\n    resource_name       = string\n    resource_group_name = string\n    role_assignments = map(object({\n      role_definition                    = string\n      users                              = optional(set(string), [])\n      groups                             = optional(set(string), [])\n      app_registrations                  = optional(set(string), [])\n      system_assigned_managed_identities = optional(set(string), [])\n      user_assigned_managed_identities   = optional(set(string), [])\n      any_principals                     = optional(set(string), [])\n      skip_service_principal_aad_check   = optional(bool, false)\n    }))\n  }))",
        "required": false
      },
      {
        "name": "system_assigned_managed_identities_by_display_name",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "users_by_object_id",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "users_by_employee_id",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "users_by_mail",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "app_registrations_by_client_id",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "groups_by_mail_nickname",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "app_registrations_by_display_name",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "skip_service_principal_aad_check",
        "type": "bool",
        "required": false
      },
      {
        "name": "system_assigned_managed_identities_by_principal_id",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "role_assignments_entra_id",
        "type": "map(object({\n    app_scope_id        = optional(string)\n    directory_scope_id  = optional(string)\n    principal_object_id = string\n    role_id             = string\n  }))",
        "required": false
      },
      {
        "name": "users_by_mail_nickname",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "role_assignments_for_scopes",
        "type": "map(object({\n    scope = string\n    role_assignments = map(object({\n      role_definition                    = string\n      users                              = optional(set(string), [])\n      groups                             = optional(set(string), [])\n      app_registrations                  = optional(set(string), [])\n      system_assigned_managed_identities = optional(set(string), [])\n      user_assigned_managed_identities   = optional(set(string), [])\n      any_principals                     = optional(set(string), [])\n      skip_service_principal_aad_check   = optional(bool, false)\n    }))\n  }))",
        "required": false
      },
      {
        "name": "system_assigned_managed_identities_by_client_id",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "enable_telemetry",
        "type": "bool",
        "required": false
      },
      {
        "name": "user_assigned_managed_identities_by_client_id",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "user_assigned_managed_identities_by_principal_id",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "users_by_user_principal_name",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "app_registrations_by_principal_id",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "groups_by_display_name",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "groups_by_object_id",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "entra_id_role_definitions",
        "type": "map(object({\n    template_id  = optional(string)\n    display_name = optional(string)\n  }))",
        "required": false
      },
      {
        "name": "role_definitions",
        "type": "map(object({\n    id    = optional(string)\n    name  = optional(string)\n    scope = optional(string)\n  }))",
        "required": false
      },
      {
        "name": "user_assigned_managed_identities_by_display_name",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "role_assignments_azure_resource_manager",
        "type": "map(object({\n    role_definition_id                     = optional(string)\n    role_definition_name                   = optional(string)\n    principal_type                         = optional(string)\n    principal_id                           = string\n    scope                                  = string\n    condition                              = optional(string)\n    condition_version                      = optional(string)\n    delegated_managed_identity_resource_id = optional(string)\n    description                            = optional(string)\n    skip_service_principal_aad_check       = optional(bool, false)\n  }))",
        "required": false
      },
      {
        "name": "user_assigned_managed_identities_by_resource_group_and_name",
        "type": "map(object({\n    resource_group_name = string\n    name                = string\n  }))",
        "required": false
      },
      {
        "name": "role_assignments_for_subscriptions",
        "type": "map(object({\n    subscription_id = optional(string, null)\n    role_assignments = map(object({\n      role_definition                    = string\n      users                              = optional(set(string), [])\n      groups                             = optional(set(string), [])\n      app_registrations                  = optional(set(string), [])\n      system_assigned_managed_identities = optional(set(string), [])\n      user_assigned_managed_identities   = optional(set(string), [])\n      any_principals                     = optional(set(string), [])\n      skip_service_principal_aad_check   = optional(bool, false)\n    }))\n  }))",
        "required": false
      },
      {
        "name": "app_registrations_by_object_id",
        "type": "map(string)",
        "required": false
      },
      {
        "name": "role_assignments_for_entra_id",
        "type": "map(object({\n    role_assignments = map(object({\n      role_definition                    = string\n      users                              = optional(set(string), [])\n      groups                             = optional(set(string), [])\n      app_registrations                  = optional(set(string), [])\n      system_assigned_managed_identities = optional(set(string), [])\n      user_assigned_managed_identities   = optional(set(string), [])\n      any_principals                     = optional(set(string), [])\n    }))\n  }))",
        "required": false
      },
      {
        "name": "role_assignments_for_management_groups",
        "type": "map(object({\n    management_group_id           = optional(string, null)\n    management_group_display_name = optional(string, null)\n    role_assignments = map(object({\n      role_definition                    = string\n      users                              = optional(set(string), [])\n      groups                             = optional(set(string), [])\n      app_registrations                  = optional(set(string), [])\n      system_assigned_managed_identities = optional(set(string), [])\n      user_assigned_managed_identities   = optional(set(string), [])\n      any_principals                     = optional(set(string), [])\n      skip_service_principal_aad_check   = optional(bool, false)\n    }))\n  }))",
        "required": false
      },
      {
        "name": "role_assignments_for_resource_groups",
        "type": "map(object({\n    resource_group_name = string\n    subscription_id     = optional(string, null)\n    role_assignments = map(object({\n      role_definition                    = string\n      users                              = optional(set(string), [])\n      groups                             = optional(set(string), [])\n      app_registrations                  = optional(set(string), [])\n      system_assigned_managed_identities = optional(set(string), [])\n      user_assigned_managed_identities   = optional(set(string), [])\n      any_principals                     = optional(set(string), [])\n      skip_service_principal_aad_check   = optional(bool, false)\n    }))\n  }))",
        "required": false
      }
    ],
    "outputs": [
      {
        "name": "app_registrations",
        "description": "A map of Entra ID application registrations. The key is the key you supplied and the value is the principal id (object id) of the service principal backing the application registration.",
        "sensitive": false
      },
      {
        "name": "entra_id_role_definitions",
        "description": "A map of Entra ID role definitions. The key is the key you supplied and the value is the role definition template id.",
        "sensitive": false
      },
      {
        "name": "groups",
        "description": "A map of Entra ID groups. The key is the key you supplied and the value is the principal id (object id) of the group.",
        "sensitive": false
      },
      {
        "name": "resource_id",
        "description": "This output is not used and is only here to satisfy the requirements of the module linting.",
        "sensitive": false
      },
      {
        "name": "role_assignments",
        "description": "A map of Azure Resource Manager role assignments. The key is the key you supplied and the value is the role assignment details:\n\n* `role_definition_id`: The role definition id of the role assignment.\n* `principal_id`: The principal id (object id) of the user, group, service principal, or managed identity the role assignment is for.\n* `scope`: The scope of the role assignment.\n",
        "sensitive": false
      },
      {
        "name": "role_defintions",
        "description": "A map of Azure Resource Manager role definitions. The key is the key you supplied and the value consists of is the role definition id and the allowed scopes.",
        "sensitive": false
      },
      {
        "name": "system_assigned_managed_identities",
        "description": "A map of system assigned managed identities. The key is the key you supplied and value is the principal id (object id) of the service principal backing system assigned managed identity.",
        "sensitive": false
      },
      {
        "name": "user_assigned_managed_identities",
        "description": "A map of user assigned managed identities. The key is the key you supplied and value is the principal id (object id) of the service principal backing user assigned managed identity.",
        "sensitive": false
      },
      {
        "name": "all_principals",
        "description": "A map of all principals. The key is the key you supplied and the value is the principal id (object id) of the user, group, service principal, or managed identity.\n",
        "sensitive": false
      },
      {
        "name": "entra_id_role_assignments",
        "description": "A map of Entra ID role assignments. The key is the key you supplied and the value is the role assignment details:\n\n* `role_definition_id`: The role definition template id of the role assignment.\n* `principal_id`: The principal id (object id) of the user, group, service principal, or managed identity the role assignment is for.\n",
        "sensitive": false
      },
      {
        "name": "users",
        "description": "A map of Entra ID users. The key is the key you supplied and the value is the principal id (object id) of the user.",
        "sensitive": false
      }
    ]
  }
}